<?xml version="1.0" encoding="UTF-8"?>
<!-- PhotoDao 클래스가 사용할 SQL이 들어 있는 파일 -->
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="bitcamp.java110.cms.dao.PostHashtagDao">

    <insert id="insert" parameterType="map"
            useGeneratedKeys="true" keyColumn="tagno" >
        insert into mv_post_tag(cont, pstno)
        values(#{cont},#{pstno})
    </insert>
    
    <!-- resultType="hashmap" -->
  <!--   
    <select id="get" parameterType="String" resultMap="postMap">
       select 
            p.cont,
            pt.pstno,
            p.mvno,
            p.ptno,
            mv.titl,
            p.star,
            p.likes,
            (p.opn ='u') opn,
            m.nick,
            m.p_phot
       from 
            mv_post p
            inner join mv_post_tag pt on p.pstno = pt.pstno 
            inner join mv_memb m on m.mno = p.mno
            inner join mv_mv mv on mv.mvno = p.mvno
       where pt.cont like concat('%',#{keyword},'%')
       order by
          cdt desc;    
 
    </select> -->
    
    <delete id="delete" parameterType="int">
       
    </delete>
    
    <update id="signOut" parameterType="int">
        UPDATE IGNORE
            mv_post_flw_tag
        SET
            flwno=00000000
        WHERE
            flwno=#{mno}
    </update>
</mapper>